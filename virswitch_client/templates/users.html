{% extends "base.html" %}
{% block title %}VirSwitch{% endblock %}
{% block content %}
    {% if admin %}
        {% if u_list %}
<form action="{{ url_for('users') }}" method="post">
    <div>
        <p>
            <input type="submit" class="btn btn-primary m-1" value="GET USER LIST"/>
            <button  type="button" class="btn btn-success m-1" data-toggle="modal" data-target="#add_user">ADD USER</button>
        </p>
    </div>
</form>

            <div class="card">
        <div class="card-header">
            <strong class="card-title">USERS:</strong>
        </div>
        <div class="card-body">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>LOGIN:</th>
                        <th>PASSWORD:</th>
                        <th>ADMIN:</th>
                        <th>VMACHINES:</th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                {% for line in u_list %}
                    <form action="{{ url_for('users') }}" method="POST">
                        <tr>

                            <td>{{ line[0] }}</td>
                            <td>{{ line[1][0] }}</td>
                            <td>{{ line[1][1] }}</td>
                            <td>{{ ' , '.join(line[1][2])}}</td>
                            <td width="10%"><input class="button btn-sm" type="submit" value="delete"></td>

                        </tr>
                    </form>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>


<div class="modal fade" id="add_user">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">ADD NEW USER</h5>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div align="center">
                    <form action="#" method="post">
                        <div class="input-group w-75 m-3">
                            <div class="input-group-prepend">
                            <label class="input-group-text">login</label>
                            </div>
                            <input type="text" class="form-control" name="login_" autocomplete="off" id="validationDefault01" required/>
                        </div>
                        <div class="input-group w-75 m-3">
                            <div class="input-group-prepend">
                            <label class="input-group-text">password</label>
                            </div>
                            <input type="text" class="form-control" name="pass_"  required/>
                        </div>
                        <div class="input-group w-75 m-3">
                            <div class="input-group-prepend">
                            <label class="input-group-text">...</label>
                            </div>
                            <input type="text" class="form-control" placeholder="..."  required/>
                        </div>

                        <div class="input-group w-75 m-3">

                          <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect01">User type</label>
                          </div>
                          <select class="custom-select" required>
                            <option selected ></option>
                            <option value="1">Admin</option>
                            <option value="2">Not Admin</option>
                          </select>

                        </div>
                        <div>
                            <p><input type="submit" class="btn btn-success w-50 m-2" value="ADD"/></p>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
<div class="modal fade" id="add_vmachine">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                 <div align="center">
                    <form action="#" method="post">

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">
                            Default checkbox
                            </label>
                        </div>
                        <div>
                            <p><input type="submit" class="btn btn-success w-50 m-2" value="ADD"/></p>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
    {% else %}


<form action="{{ url_for('users') }}" method="post">
    <div>
        <p>
            <input type="submit" class="btn btn-primary m-1" value="GET USER LIST"/>
            <button  type="button" class="btn btn-success m-1" data-toggle="modal" data-target="#add_user">ADD USER</button>
        </p>
    </div>
</form>
    {% endif %}
{% else %}
Admin?
{% endif %}

{% endblock %}